{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/MoviePagination.jsx","utils/api.js","components/App.jsx","index.js"],"names":["MovieItem","state","willWatch","_this2","this","_this$props","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","react_default","a","createElement","className","src","concat","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","_props$sortBy","sortBy","field","order","sortMoviesBy","handleSortMoviesBy","listItem","getListItemClassName","classNames","nav-link","active","MoviePagination","start","end","_calculatePagination","_props$pagination","pagination","page","pagesTotal","pagesCount","currentPage","pageFirst","pageLast","calculatePagination","pages","Array","from","keys","x","showMoviesTotal","handlePaginateMovies","newPage","paginateMovies","pageNum","disabled","map","key","moviesTotal","API_URL","API_KEY_3","API_ENDPOINT_DISCOVERY_MOVIE","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","isMovieFilterChanged","prevState","currentState","_currentState$sortBy","currentSortField","currentSortOrder","_prevState$sortBy","prevSortField","prevSortOrder","prevPage","fetchMovieData","url","console","log","fetch","then","Response","json","moviesData","movies","results","total_pages","total_results","movie","updateMovies","filter","item","id","updateMoviesWillWatch","toConsumableArray","moviesWillWatch","push","calculateSortOrder","currentSortBy","_this$state$paginatio","prevProps","components_MovieTabs","components_MoviePagination","components_MovieItem","length","ReactDOM","render","components_App","document","getElementById"],"mappings":"uOAqEeA,6MAlEXC,MAAQ,CACJC,WAAW,2EAGN,IAAAC,EAAAC,KAAAC,EAMDD,KAAKE,MAJLC,EAFCF,EAEDE,KACAC,EAHCH,EAGDG,YACAC,EAJCJ,EAIDI,oBACAC,EALCL,EAKDK,yBAGJ,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,OACIC,UAAU,eACVC,IAAG,kCAAAC,OAAoCT,EAAKU,eACxCV,EAAKW,aACTC,IAAI,KAERR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAcP,EAAKa,OACjCT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qDACXH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,QAAb,WAA6BP,EAAKc,cACjCjB,KAAKH,MAAMC,UACRS,EAAAC,EAAAC,cAAA,UACIS,KAAK,SACLR,UAAU,kBACVS,QAAS,WACLpB,EAAKqB,SAAS,CACVtB,WAAW,IAEfQ,EAAyBH,KAPjC,cAaAI,EAAAC,EAAAC,cAAA,UACIS,KAAK,SACLR,UAAU,oBACVS,QAAS,WACLpB,EAAKqB,SAAS,CACVtB,WAAW,IAEfO,EAAoBF,KAP5B,eAcRI,EAAAC,EAAAC,cAAA,UACIS,KAAK,SACLC,QAAS,WACLf,EAAYD,KAHpB,mBArDIkB,IAAMC,2BC4CfC,EA3CG,SAAArB,GAAS,IAAAsB,EACEtB,EAAMuB,OAAvBC,EADeF,EACfE,MAAOC,EADQH,EACRG,MACTC,EAAe1B,EAAM0B,aAErBC,EAAqB,SAAAC,GACvB,OAAO,WACHF,EAAa,CACTF,MAAOI,MAKbC,EAAuB,SAAAD,GACzB,OAAOE,IAAW,CACdC,YAAY,EACZC,OAAQR,IAAUI,KAI1B,OACIvB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sBACVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WAAWS,QAASU,EAAmB,eACjDtB,EAAAC,EAAAC,cAAA,OAAKC,UAAWqB,EAAqB,eAArC,cAC0B,SAAVJ,EAAA,oBAGpBpB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WAAWS,QAASU,EAAmB,YACjDtB,EAAAC,EAAAC,cAAA,OAAKC,UAAWqB,EAAqB,YAArC,WACuB,SAAVJ,EAAA,oBAGjBpB,EAAAC,EAAAC,cAAA,MACIC,UAAU,WACVS,QAASU,EAAmB,iBAE5BtB,EAAAC,EAAAC,cAAA,OAAKC,UAAWqB,EAAqB,iBAArC,gBAC4B,SAAVJ,EAAA,sBC4DnBQ,EAtES,SAAAjC,GAAS,IAPVkC,EAAOC,EAOGC,EA1BL,SAAApC,GAAS,IAAAqC,EACJrC,EAAMsC,WAA3BC,EADyBF,EACzBE,KAAMC,EADmBH,EACnBG,WACRC,EAA4B,UAAfzC,EAAMgB,KAAmB,EAAI,EAC1C0B,EAAcH,EAAOC,EAAaA,EAAaD,EAAO,EAAI,EAAIA,EAQpE,MAAO,CACHA,KAAMG,EACNC,UARAD,EAAcD,GAAc,EAAIC,EAAcD,EAAa,EAS3DG,SAPAF,EAAcD,GAAcD,EACtBE,EAAcD,EACdD,EAMNA,WAAYA,GAYkCK,CAC9C7C,GADIuC,EADqBH,EACrBG,KAAMI,EADeP,EACfO,UAAWC,EADIR,EACJQ,SAAUJ,EADNJ,EACMI,WAG7BM,GAXaZ,EAWSS,EAXFR,EAWaS,EAVhCG,MAAMC,KACTD,MAAMC,KAAKD,MAAMZ,EAAMD,EAAQ,GAAGe,QAClC,SAAAC,GAAC,OAAIhB,EAAQgB,KASXC,EAAkBnD,EAAMmD,kBAAmB,EAE3CC,EAAuB,SAAAC,GACzB,OAAO,WACHrD,EAAMsD,eAAeD,KAIvBxB,EAAuB,SAAA0B,GAAO,OAChCzB,IAAW,CACPC,YAAY,EACZC,OAAQO,IAASgB,EACjBC,SAAUjB,IAASgB,KAG3B,OACIlD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAW2C,EAAkB,QAAU,UACxC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sBACTmC,EAAY,EACTtC,EAAAC,EAAAC,cAAA,MACIC,UAAU,WACVS,QAASmC,EAAqB,IAE9B/C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAf,eAGJ,GAEHsC,EAAMW,IAAI,SAAAF,GAAO,OACdlD,EAAAC,EAAAC,cAAA,MACImD,IAAKH,EACL/C,UAAU,WACVS,QAASmC,EAAqBG,IAE9BlD,EAAAC,EAAAC,cAAA,OAAKC,UAAWqB,EAAqB0B,IAArC,QACUA,MAIjBX,EAAWJ,EACRnC,EAAAC,EAAAC,cAAA,MACIC,UAAU,WACVS,QAASmC,EAAqBZ,IAE9BnC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAf,YACcgC,IAIlB,KAIXW,EACG9C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,IACMR,EAAMsC,WAAWqB,YADvB,YAIA,KC7FHC,EAAU,+BAEVC,EAAY,mCAKZC,EAA+B,kBC+M7BC,cA1MX,SAAAA,IAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAnE,KAAAiE,IACVC,EAAAC,OAAAE,EAAA,EAAAF,CAAAnE,KAAAmE,OAAAG,EAAA,EAAAH,CAAAF,GAAAM,KAAAvE,QA2BJwE,qBAAuB,SAACC,EAAWC,GAAiB,IAAAC,EAI5CD,EAFAjD,OAAiBmD,EAF2BD,EAElCjD,MAAgCmD,EAFEF,EAEThD,MACfiB,EACpB8B,EADAlC,WAAcC,KAH8BqC,EAQ5CL,EAFAhD,OAAiBsD,EAN2BD,EAMlCpD,MAA6BsD,EANKF,EAMZnD,MACZsD,EACpBR,EADAjC,WAAcC,KAGlB,OACIsC,IAAkBH,GAClBI,IAAkBH,GAClBI,IAAarC,GAzCPsB,EAiDdgB,eAAiB,SAACzD,EAAQe,GAAe,IAC7Bd,EAAiBD,EAAjBC,MAAOC,EAAUF,EAAVE,MACPc,EAASD,EAATC,KACF0C,EAAG,GAAAvE,OAAMkD,GAANlD,OAAgBoD,EAAhB,aAAApD,OAAwDmD,EAAxD,aAAAnD,OAA6Ec,EAA7E,KAAAd,OAAsFe,EAAtF,UAAAf,OAAoG6B,GAC7G2C,QAAQC,IAAIF,GAEZG,MAAMH,GACDI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GAAU,OACZxB,EAAK9C,SAAS,CACVuE,OAAQD,EAAWE,QACnBpD,WAAY,CACRC,KAAMiD,EAAWjD,KACjBC,WAAYgD,EAAWG,YACvBhC,YAAa6B,EAAWI,oBA/D9B5B,EAqEd9D,YAAc,SAAA2F,GACV,IAAMC,EAAe9B,EAAKrE,MAAM8F,OAAOM,OACnC,SAAAC,GAAI,OAAIA,EAAKC,KAAOJ,EAAMI,KAG9BjC,EAAK9C,SAAS,CACVuE,OAAQK,IAGZ9B,EAAK5D,yBAAyByF,IA9EpB7B,EAiFd7D,oBAAsB,SAAA0F,GAClB,IAAMK,EAAqBjC,OAAAkC,EAAA,EAAAlC,CAAOD,EAAKrE,MAAMyG,iBAC7CF,EAAsBG,KAAKR,GAE3B7B,EAAK9C,SAAS,CACVkF,gBAAiBF,KAtFXlC,EA0Fd5D,yBAA2B,SAAAyF,GACvB,IAAMK,EAAwBlC,EAAKrE,MAAMyG,gBAAgBL,OACrD,SAAAC,GAAI,OAAIA,EAAKC,KAAOJ,EAAMI,KAG9BjC,EAAK9C,SAAS,CACVkF,gBAAiBF,KAhGXlC,EAoGdtC,aAAe,SAAAH,GACXyC,EAAK9C,SAAS,CACVK,OAAQ,CACJC,MAAOD,EAAOC,MACdC,MAAOuC,EAAKsC,mBAAmBtC,EAAKrE,MAAM4B,OAAQA,OAxGhDyC,EA6GdsC,mBAAqB,SAACC,EAAehF,GACjC,OAAIA,EAAOC,QAAU+E,EAAc/E,MACxB+E,EAAc9E,MAGM,SAAxB8E,EAAc9E,MAAmB,MAAQ,QAlHtCuC,EAqHdV,eAAiB,SAAAf,GAAQ,IAAAiE,EACexC,EAAKrE,MAAM2C,WAAvCE,EADagE,EACbhE,WAAYmB,EADC6C,EACD7C,YAEpBK,EAAK9C,SAAS,CACVoB,WAAY,CACRC,KAAMA,EACNC,WAAYA,EACZmB,YAAaA,MAzHrBK,EAAKrE,MAAQ,CACT8F,OAAQ,GACRW,gBAAiB,GACjB7E,OAAQ,CACJC,MAAO,aACPC,MAAO,QAEXa,WAAY,CACRC,KAAM,EACNC,WAAY,IACZmB,YAAa,MAbXK,mFAmBVlE,KAAKkF,eAAelF,KAAKH,MAAM4B,OAAQzB,KAAKH,MAAM2C,uDAGnCmE,EAAWlC,GACtBzE,KAAKwE,qBAAqBC,EAAWzE,KAAKH,QAC1CG,KAAKkF,eAAelF,KAAKH,MAAM4B,OAAQzB,KAAKH,MAAM2C,6CAyGjD,IAAAzC,EAAAC,KACL,OACIO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,EAAAC,cAACmG,EAAD,CACInF,OAAQzB,KAAKH,MAAM4B,OACnBG,aAAc5B,KAAK4B,iBAI/BrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,EAAAC,cAACoG,EAAD,CACI3F,KAAK,QACLmC,iBAAiB,EACjBb,WAAYxC,KAAKH,MAAM2C,WACvBgB,eAAgBxD,KAAKwD,mBAIjCjD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACVV,KAAKH,MAAM8F,OAAOhC,IAAI,SAAAoC,GACnB,OACIxF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAakD,IAAKmC,EAAMI,IACnC5F,EAAAC,EAAAC,cAACqG,EAAD,CACI3G,KAAM4F,EACN3F,YAAaL,EAAKK,YAClBC,oBACIN,EAAKM,oBAETC,yBACIP,EAAKO,+BAO7BC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,EAAAC,cAACoG,EAAD,CACI3F,KAAK,OACLsB,WAAYxC,KAAKH,MAAM2C,WACvBgB,eAAgBxD,KAAKwD,oBAKrCjD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,yBACiBT,KAAKH,MAAMyG,gBAAgBS,OAAQ,IADpD,UAIAxG,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACTV,KAAKH,MAAMyG,gBAAgB3C,IAAI,SAAAoC,GAAK,OACjCxF,EAAAC,EAAAC,cAAA,MAAImD,IAAKmC,EAAMI,GAAIzF,UAAU,mBACzBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACXH,EAAAC,EAAAC,cAAA,SAAIsF,EAAM/E,OACVT,EAAAC,EAAAC,cAAA,SAAIsF,EAAM9E,6BA/LhCI,IAAMC,uBCLxB0F,IAASC,OAAO1G,EAAAC,EAAAC,cAACyG,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.8b4864d8.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n    state = {\n        willWatch: false\n    };\n\n    render() {\n        const {\n            data,\n            deleteMovie,\n            addMovieToWillWatch,\n            deleteMovieFromWillWatch\n        } = this.props;\n        // props.data = {};\n        return (\n            <div className=\"card\">\n                <img\n                    className=\"card-img-top\"\n                    src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\n                        data.poster_path}`}\n                    alt=\"\"\n                />\n                <div className=\"card-body\">\n                    <h6 className=\"card-title\">{data.title}</h6>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <p className=\"mb-0\">Rating: {data.vote_average}</p>\n                        {this.state.willWatch ? (\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-success\"\n                                onClick={() => {\n                                    this.setState({\n                                        willWatch: false\n                                    });\n                                    deleteMovieFromWillWatch(data);\n                                }}\n                            >\n                                Will Watch\n                            </button>\n                        ) : (\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-secondary\"\n                                onClick={() => {\n                                    this.setState({\n                                        willWatch: true\n                                    });\n                                    addMovieToWillWatch(data);\n                                }}\n                            >\n                                Will Watch\n                            </button>\n                        )}\n                    </div>\n                    <button\n                        type=\"button\"\n                        onClick={() => {\n                            deleteMovie(data);\n                        }}\n                    >\n                        Delete\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default MovieItem;\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst MovieTabs = props => {\r\n    const { field, order } = props.sortBy;\r\n    const sortMoviesBy = props.sortMoviesBy;\r\n\r\n    const handleSortMoviesBy = listItem => {\r\n        return () => {\r\n            sortMoviesBy({\r\n                field: listItem\r\n            });\r\n        };\r\n    };\r\n\r\n    const getListItemClassName = listItem => {\r\n        return classNames({\r\n            \"nav-link\": true,\r\n            active: field === listItem\r\n        });\r\n    };\r\n\r\n    return (\r\n        <ul className=\"tabs nav nav-pills\">\r\n            <li className=\"nav-item\" onClick={handleSortMoviesBy(\"popularity\")}>\r\n                <div className={getListItemClassName(\"popularity\")}>\r\n                    Popularity {order === \"desc\" ? `\\u2193` : `\\u2191`}\r\n                </div>\r\n            </li>\r\n            <li className=\"nav-item\" onClick={handleSortMoviesBy(\"revenue\")}>\r\n                <div className={getListItemClassName(\"revenue\")}>\r\n                    Revenue {order === \"desc\" ? `\\u2193` : `\\u2191`}\r\n                </div>\r\n            </li>\r\n            <li\r\n                className=\"nav-item\"\r\n                onClick={handleSortMoviesBy(\"vote_average\")}\r\n            >\r\n                <div className={getListItemClassName(\"vote_average\")}>\r\n                    Vote Average {order === \"desc\" ? `\\u2193` : `\\u2191`}\r\n                </div>\r\n            </li>\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst calculatePagination = props => {\r\n    const { page, pagesTotal } = props.pagination;\r\n    const pagesCount = props.type === \"micro\" ? 1 : 3;\r\n    const currentPage = page > pagesTotal ? pagesTotal : page < 1 ? 1 : page;\r\n    const pageFirst =\r\n        currentPage - pagesCount >= 1 ? currentPage - pagesCount : 1;\r\n    const pageLast =\r\n        currentPage + pagesCount <= pagesTotal\r\n            ? currentPage + pagesCount\r\n            : pagesTotal;\r\n\r\n    return {\r\n        page: currentPage,\r\n        pageFirst: pageFirst,\r\n        pageLast: pageLast,\r\n        pagesTotal: pagesTotal\r\n    };\r\n};\r\n\r\nconst generatePages = (start, end) => {\r\n    return Array.from(\r\n        Array.from(Array(end - start + 1).keys()),\r\n        x => start + x\r\n    );\r\n};\r\n\r\nconst MoviePagination = props => {\r\n    const { page, pageFirst, pageLast, pagesTotal } = calculatePagination(\r\n        props\r\n    );\r\n    const pages = generatePages(pageFirst, pageLast);\r\n    const showMoviesTotal = props.showMoviesTotal || false;\r\n\r\n    const handlePaginateMovies = newPage => {\r\n        return () => {\r\n            props.paginateMovies(newPage);\r\n        };\r\n    };\r\n\r\n    const getListItemClassName = pageNum =>\r\n        classNames({\r\n            \"nav-link\": true,\r\n            active: page === pageNum,\r\n            disabled: page === pageNum\r\n        });\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className={showMoviesTotal ? \"col-9\" : \"col-12\"}>\r\n                <ul className=\"tabs nav nav-pills\">\r\n                    {pageFirst > 1 ? (\r\n                        <li\r\n                            className=\"nav-item\"\r\n                            onClick={handlePaginateMovies(1)}\r\n                        >\r\n                            <div className=\"nav-link\">Page 1 ...</div>\r\n                        </li>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                    {pages.map(pageNum => (\r\n                        <li\r\n                            key={pageNum}\r\n                            className=\"nav-item\"\r\n                            onClick={handlePaginateMovies(pageNum)}\r\n                        >\r\n                            <div className={getListItemClassName(pageNum)}>\r\n                                Page {pageNum}\r\n                            </div>\r\n                        </li>\r\n                    ))}\r\n                    {pageLast < pagesTotal ? (\r\n                        <li\r\n                            className=\"nav-item\"\r\n                            onClick={handlePaginateMovies(pagesTotal)}\r\n                        >\r\n                            <div className=\"nav-link\">\r\n                                ... Page {pagesTotal}\r\n                            </div>\r\n                        </li>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </ul>\r\n            </div>\r\n            {showMoviesTotal ? (\r\n                <div className=\"col-3\">\r\n                    ({props.pagination.moviesTotal} movies)\r\n                </div>\r\n            ) : (\r\n                \"\"\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MoviePagination;\r\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n    \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n\nexport const API_ENDPOINT_DISCOVERY_MOVIE = \"/discover/movie\";\n","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport MovieTabs from \"./MovieTabs\";\nimport MoviePagination from \"./MoviePagination\";\nimport { API_URL, API_KEY_3, API_ENDPOINT_DISCOVERY_MOVIE } from \"../utils/api\";\n\n// UI = fn(state, props)\n\n// App = new React.Component()\n\nclass App extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            movies: [],\n            moviesWillWatch: [],\n            sortBy: {\n                field: \"popularity\",\n                order: \"desc\"\n            },\n            pagination: {\n                page: 1,\n                pagesTotal: 500,\n                moviesTotal: 10000\n            }\n        };\n    }\n\n    componentDidMount() {\n        this.fetchMovieData(this.state.sortBy, this.state.pagination);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.isMovieFilterChanged(prevState, this.state)) {\n            this.fetchMovieData(this.state.sortBy, this.state.pagination);\n        }\n    }\n\n    isMovieFilterChanged = (prevState, currentState) => {\n        const {\n            sortBy: { field: currentSortField, order: currentSortOrder },\n            pagination: { page: currentPage }\n        } = currentState;\n        const {\n            sortBy: { field: prevSortField, order: prevSortOrder },\n            pagination: { page: prevPage }\n        } = prevState;\n\n        if (\n            prevSortField !== currentSortField ||\n            prevSortOrder !== currentSortOrder ||\n            prevPage !== currentPage\n        ) {\n            return true;\n        }\n\n        return false;\n    };\n\n    fetchMovieData = (sortBy, pagination) => {\n        const { field, order } = sortBy;\n        const { page } = pagination;\n        const url = `${API_URL}${API_ENDPOINT_DISCOVERY_MOVIE}?api_key=${API_KEY_3}&sort_by=${field}.${order}&page=${page}`;\n        console.log(url);\n\n        fetch(url)\n            .then(Response => Response.json())\n            .then(moviesData =>\n                this.setState({\n                    movies: moviesData.results,\n                    pagination: {\n                        page: moviesData.page,\n                        pagesTotal: moviesData.total_pages,\n                        moviesTotal: moviesData.total_results\n                    }\n                })\n            );\n    };\n\n    deleteMovie = movie => {\n        const updateMovies = this.state.movies.filter(\n            item => item.id !== movie.id\n        );\n\n        this.setState({\n            movies: updateMovies\n        });\n\n        this.deleteMovieFromWillWatch(movie);\n    };\n\n    addMovieToWillWatch = movie => {\n        const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n        updateMoviesWillWatch.push(movie);\n\n        this.setState({\n            moviesWillWatch: updateMoviesWillWatch\n        });\n    };\n\n    deleteMovieFromWillWatch = movie => {\n        const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n            item => item.id !== movie.id\n        );\n\n        this.setState({\n            moviesWillWatch: updateMoviesWillWatch\n        });\n    };\n\n    sortMoviesBy = sortBy => {\n        this.setState({\n            sortBy: {\n                field: sortBy.field,\n                order: this.calculateSortOrder(this.state.sortBy, sortBy)\n            }\n        });\n    };\n\n    calculateSortOrder = (currentSortBy, sortBy) => {\n        if (sortBy.field !== currentSortBy.field) {\n            return currentSortBy.order;\n        }\n\n        return currentSortBy.order === \"desc\" ? \"asc\" : \"desc\";\n    };\n\n    paginateMovies = page => {\n        const { pagesTotal, moviesTotal } = this.state.pagination;\n\n        this.setState({\n            pagination: {\n                page: page,\n                pagesTotal: pagesTotal,\n                moviesTotal: moviesTotal\n            }\n        });\n    };\n\n    render() {\n        return (\n            <div className=\"container\">\n                <div className=\"row mt-4\">\n                    <div className=\"col-9\">\n                        <div className=\"row mb-4\">\n                            <div className=\"col-12\">\n                                <MovieTabs\n                                    sortBy={this.state.sortBy}\n                                    sortMoviesBy={this.sortMoviesBy}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"row mb-4\">\n                            <div className=\"col-12\">\n                                <MoviePagination\n                                    type=\"micro\"\n                                    showMoviesTotal={true}\n                                    pagination={this.state.pagination}\n                                    paginateMovies={this.paginateMovies}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            {this.state.movies.map(movie => {\n                                return (\n                                    <div className=\"col-6 mb-4\" key={movie.id}>\n                                        <MovieItem\n                                            data={movie}\n                                            deleteMovie={this.deleteMovie}\n                                            addMovieToWillWatch={\n                                                this.addMovieToWillWatch\n                                            }\n                                            deleteMovieFromWillWatch={\n                                                this.deleteMovieFromWillWatch\n                                            }\n                                        />\n                                    </div>\n                                );\n                            })}\n                        </div>\n                        <div className=\"row mb-4\">\n                            <div className=\"col-12\">\n                                <MoviePagination\n                                    type=\"full\"\n                                    pagination={this.state.pagination}\n                                    paginateMovies={this.paginateMovies}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-3\">\n                        <h4>\n                            Will Watch: {this.state.moviesWillWatch.length}{\" \"}\n                            movies\n                        </h4>\n                        <ul className=\"list-group\">\n                            {this.state.moviesWillWatch.map(movie => (\n                                <li key={movie.id} className=\"list-group-item\">\n                                    <div className=\"d-flex justify-content-between\">\n                                        <p>{movie.title}</p>\n                                        <p>{movie.vote_average}</p>\n                                    </div>\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}